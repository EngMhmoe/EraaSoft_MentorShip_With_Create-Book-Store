//import Hooks react js
import { useEffect, useState } from "react";

//import Components
import NavLinks from "./NavLinks";
import NavLogo from "./NavLogo";
import NavButton from "./NavButton";
import NavIconMenubar from "./NavIconMenubar";
import NavDialogModal from "./NavDialogModal";

//import useTranslation i18next
import { useTranslation } from "react-i18next";

export default function Navbar() {
  const [scrolllNav, setScrolllNav] = useState(false);

  ///////////////////////////////////////////////////////////////////////////////////
  ///////////////////////////////////////////////////////////////////////////////////
  ///////////////////////////////////////////////////////////////////////////////////
  ///////////////////////////////////////////////////////////////////////////////////
  ///////////////////////////////////////////////////////////////////////////////////

  useEffect(() => {
    window.addEventListener("scroll", () => {
      if (scrollY > 30) {
        setScrolllNav(true);
      } else {
        setScrolllNav(false);
      }
    });
  }, []);

  ///////////////////////////////////////////////////////////////////////////////////
  ///////////////////////////////////////////////////////////////////////////////////
  ///////////////////////////////////////////////////////////////////////////////////
  ///////////////////////////////////////////////////////////////////////////////////
  ///////////////////////////////////////////////////////////////////////////////////

  const { t, i18n } = useTranslation();

  ///////////////////////////////////////////////////////////////////////////////////
  ///////////////////////////////////////////////////////////////////////////////////
  ///////////////////////////////////////////////////////////////////////////////////
  ///////////////////////////////////////////////////////////////////////////////////
  ///////////////////////////////////////////////////////////////////////////////////

  const changeLang = (lang) => {
    i18n.changeLanguage(lang);
    localStorage.setItem("lang", lang);
  };

  ///////////////////////////////////////////////////////////////////////////////////
  ///////////////////////////////////////////////////////////////////////////////////
  ///////////////////////////////////////////////////////////////////////////////////
  ///////////////////////////////////////////////////////////////////////////////////
  ///////////////////////////////////////////////////////////////////////////////////

  //App dir
  useEffect(() => {
    document.dir = i18n.language === "ar" ? "rtl" : "ltr";
  }, [i18n.language]);

  return (
    <>
      <header className="absolute  z-999 duration-2000 text-white w-full  font-bold">
        <section className="flex flex-row  justify-between w-full items-center p-3">
          {/* Dark mode And light mode */}
          <button className="btn btn-error bg-(--color-textColor1) text-white duration-1000">
            {t("Dark")}
          </button>

          {/* ///////////////////////////////////////////////////////////////// */}
          {/* ///////////////////////////////////////////////////////////////// */}
          {/* ///////////////////////////////////////////////////////////////// */}
          {/* ///////////////////////////////////////////////////////////////// */}
          {/* ///////////////////////////////////////////////////////////////// */}

          {/* lang */}
          <div className="flex items-center gap-4">
            <img src="../../public/images/img10.png" alt="" />

            <select
              onChange={(e) => {
                if (e.target.value === "en") {
                  changeLang("en");
                } else {
                  changeLang("ar");
                }
              }}
              className="border rounded-lg py-1 px-5 bg-[#3B2F4A] text-[#D9176C] font-bold hover:text-violet-300"
            >
              <option value="en">{t("English")}</option>
              <option value="ar">{t("Aribc")}</option>
            </select>
          </div>
        </section>

        {/* ///////////////////////////////////////////////////////////////// */}
        {/* ///////////////////////////////////////////////////////////////// */}
        {/* ///////////////////////////////////////////////////////////////// */}
        {/* ///////////////////////////////////////////////////////////////// */}
        {/* ///////////////////////////////////////////////////////////////// */}

        <nav
          className={
            scrolllNav
              ? "fixed w-full z-999 top-0 bg-white duration-2000 text-black shadow-2xl shadow-red-300  xl:px-35 xl:py-6 sm:px-10 px-2 py-6 flex justify-between items-center font-bold"
              : "fixed w-full z-999 border-t border-white/20 duration-2000 text-white  xl:px-35 xl:pt-5 sm:px-10 px-2 pt-5   flex justify-between items-center font-bold"
          }
        >
          <section className="flex lg:hidden text-3xl cursor-pointer">
            {/* NavIconMenubar Component */}
            <NavIconMenubar />

            {/* ///////////////////////////////////////////////////////////////// */}
            {/* ///////////////////////////////////////////////////////////////// */}
            {/* ///////////////////////////////////////////////////////////////// */}
            {/* ///////////////////////////////////////////////////////////////// */}
            {/* ///////////////////////////////////////////////////////////////// */}

            {/* NavDialogModal Component */}
            <NavDialogModal t={t} />
          </section>

          {/* ///////////////////////////////////////////////////////////////// */}
          {/* ///////////////////////////////////////////////////////////////// */}
          {/* ///////////////////////////////////////////////////////////////// */}
          {/* ///////////////////////////////////////////////////////////////// */}
          {/* ///////////////////////////////////////////////////////////////// */}

          {/* section left */}
          <section className="lg:flex items-center gap-6.25 hidden">
            {/* NavLogo Component */}
            <NavLogo scrolllNav={scrolllNav} t={t} />

            {/* ///////////////////////////////////////////////////////////////// */}
            {/* ///////////////////////////////////////////////////////////////// */}
            {/* ///////////////////////////////////////////////////////////////// */}
            {/* ///////////////////////////////////////////////////////////////// */}
            {/* ///////////////////////////////////////////////////////////////// */}

            <div className="border h-7"></div>

            {/* NavLinks Component */}
            <NavLinks t={t} />
          </section>

          {/* ///////////////////////////////////////////////////////////////// */}
          {/* ///////////////////////////////////////////////////////////////// */}
          {/* ///////////////////////////////////////////////////////////////// */}
          {/* ///////////////////////////////////////////////////////////////// */}
          {/* ///////////////////////////////////////////////////////////////// */}

          {/* section right */}
          <section className="flex items-center gap-3">
            <NavButton scrolllNav={scrolllNav} t={t} />
          </section>
        </nav>
      </header>
    </>
  );
}
